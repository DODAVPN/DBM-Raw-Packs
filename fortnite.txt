{
  "name": "fortnite",
  "permissions": "NONE",
  "restriction": "1",
  "_id": "xzngt",
  "actions": [
    {
      "storage": "0",
      "varName": "",
      "name": "Delete Message"
    },
    {
      "member": "1",
      "varName": "",
      "info": "7",
      "storage": "1",
      "varName2": "commanduser",
      "name": "Store Member Things"
    },
    {
      "condition": "0",
      "comparison": "0",
      "value": "2",
      "iftrue": "0",
      "iftrueVal": "",
      "iffalse": "2",
      "iffalseVal": "24",
      "name": "Check Parameters"
    },
    {
      "info": "0",
      "infoIndex": "1",
      "storage": "1",
      "varName": "playerUsername",
      "name": "Store Command Params"
    },
    {
      "info": "0",
      "infoIndex": "2",
      "storage": "1",
      "varName": "playerPlatform",
      "name": "Store Command Params"
    },
    {
      "storage": "0",
      "varName": "",
      "EliteArtzIsPro": "0",
      "name": "Bot Typing"
    },
    {
      "behavior": "1",
      "interpretation": "0",
      "code": "var platform = tempVars(\"playerPlatform\");\nvar newPlatform = platform.toLowerCase();\nvar playerUsername = tempVars(\"playerUsername\");\nvar PT = [\"psn\",\"xbl\",\"pc\"];\nvar request = require('request');\n\nif (PT.indexOf(newPlatform) >= 0) {\n   this.storeValue(\"true\", 1, \"isPlatform\", cache);\n} else{\n   this.callNextAction(cache);\n}\n\nvar options = {\n  method: \"GET\",\n  url: `https://api.fortnitetracker.com/v1/profile/` + newPlatform + `/` + playerUsername,\n  headers: {\n    'TRN-Api-Key': \"API-KEY-HERE"\n  }\n}\n\n\nrequest(options, (error, response, body) => {\n  if (!error && response.statusCode == 200) {\n    var stats = JSON.parse(body);\n\tthis.storeValue(stats, 1, \"data\", cache);\n\tif (\"error\" in stats) {\n\t\tthis.storeValue(\"true\", 1, \"errorCheck\", cache);\n\t\tthis.callNextAction(cache);\n  }else{\n\tthis.callNextAction(cache);  \n  }\n  }\n})\n\n      ",
      "storage": "0",
      "varName": "",
      "name": "Run Script"
    },
    {
      "storage": "1",
      "varName": "isPlatform",
      "comparison": "0",
      "value": "true",
      "iftrue": "0",
      "iftrueVal": "",
      "iffalse": "2",
      "iffalseVal": "22",
      "name": "Check Variable"
    },
    {
      "storage": "1",
      "varName": "errorCheck",
      "comparison": "0",
      "value": "Player Not Found",
      "iftrue": "2",
      "iftrueVal": "18",
      "iffalse": "0",
      "iffalseVal": "",
      "name": "Check Variable"
    },
    {
      "behavior": "1",
      "interpretation": "0",
      "code": "var dataSet = tempVars(\"data\");\n//p9 = squads\n//p10 = duos\n//p2 = solo\n\n//Thanks to some answers on stackOverflow\n//https://stackoverflow.com/questions/2901102/how-to-print-a-number-with-commas-as-thousands-separators-in-javascript?utm_medium=organic&utm_source=google_rich_qa&utm_campaign=google_rich_qa\n//This may be the long route of doing this, using toLocaleString but who cares? .3. --PikeNote\n\nfunction number_format(number, decimals, dec_point, thousands_sep) {\n    var n = !isFinite(+number) ? 0 : +number, \n        prec = !isFinite(+decimals) ? 0 : Math.abs(decimals),\n        sep = (typeof thousands_sep === 'undefined') ? ',' : thousands_sep,\n        dec = (typeof dec_point === 'undefined') ? '.' : dec_point,\n        toFixedFix = function (n, prec) {\n            // Fix for IE parseFloat(0.55).toFixed(0) = 0;\n            var k = Math.pow(10, prec);\n            return Math.round(n * k) / k;\n        },\n        s = (prec ? toFixedFix(n, prec) : Math.round(n)).toString().split('.');\n    if (s[0].length > 3) {\n        s[0] = s[0].replace(/\\B(?=(?:\\d{3})+(?!\\d))/g, sep);\n    }\n    if ((s[1] || '').length < prec) {\n        s[1] = s[1] || '';\n        s[1] += new Array(prec - s[1].length + 1).join('0');\n    }\n    return s.join(dec);\n}\n\nif (\"p2\" in dataSet.stats) {\n//trnRating\n    this.storeValue(number_format(dataSet.stats.p2.trnRating.value), 1, \"trnRatingVSolo\", cache);\n//score\n    this.storeValue(number_format(dataSet.stats.p2.score.value), 1, \"scoreSolo\", cache);\n    this.storeValue(number_format(dataSet.stats.p2.score.rank), 1, \"rankSolo\", cache);\n//wins\n\tthis.storeValue(number_format(dataSet.stats.p2.top1.value), 1, \"winsSolo\", cache);\n//top 3's\n    this.storeValue(number_format(dataSet.stats.p2.top3.value), 1, \"topThreeSolo\", cache);\n//top 5's\n    this.storeValue(number_format(dataSet.stats.p2.top5.value), 1, \"topFiveSolo\", cache);\n//top 6's\n\tthis.storeValue(number_format(dataSet.stats.p2.top6.value), 1, \"topSixSolo\", cache);\n//top 10's\n\tthis.storeValue(number_format(dataSet.stats.p2.top10.value), 1, \"topTenSolo\", cache);\n//top 12's\n    this.storeValue(number_format(dataSet.stats.p2.top12.value), 1, \"topTwelveSolo\", cache);\n//top 25's\n    this.storeValue(number_format(dataSet.stats.p2.top25.value), 1, \"topTwentyFiveSolo\", cache);\n//kills death ratio\n\tthis.storeValue(number_format(dataSet.stats.p2.kd.value), 1, \"kdSolo\", cache);\n//winRatio\n    if (\"winRatio\" in dataSet.stats.p2) {\n\tthis.storeValue(number_format(dataSet.stats.p2.winRatio.value), 1, \"winRatioSolo\", cache);\n\t}else{\n\tthis.storeValue(0, 1, \"winRatioSolo\", cache);\n\t}\n//matches\n\tthis.storeValue(number_format(dataSet.stats.p2.matches.value), 1, \"matchesSolo\", cache);\n//kills\n\tthis.storeValue(number_format(dataSet.stats.p2.kills.value), 1, \"killsSolo\", cache);\n//kills per match\n\tthis.storeValue(number_format(dataSet.stats.p2.kpg.value), 1, \"kpmSolo\", cache);\n//score per match\n    this.storeValue(number_format(dataSet.stats.p2.scorePerMatch.value), 1, \"spmSolo\", cache);\n//end\n}else{\n    //trnRating\n    this.storeValue(\"None\", 1, \"trnRatingVSolo\", cache);\n//score\n    this.storeValue(0, 1, \"scoreSolo\", cache);\n    this.storeValue(\"None\", 1, \"rankSolo\", cache);\n//wins\n\tthis.storeValue(0, 1, \"winsSolo\", cache);\n//top 3's\n    this.storeValue(0, 1, \"topThreeSolo\", cache);\n//top 5's\n    this.storeValue(0, 1, \"topFiveSolo\", cache);\n//top 6's\n\tthis.storeValue(0, 1, \"topSixSolo\", cache);\n//top 10's\n\tthis.storeValue(0, 1, \"topTenSolo\", cache);\n//top 12's\n    this.storeValue(0, 1, \"topTwelveSolo\", cache);\n//top 25's\n    this.storeValue(0, 1, \"topTwentyFiveSolo\", cache);\n//kills death ratio\n\tthis.storeValue(0, 1, \"kdSolo\", cache);\n//winRatio\n\tthis.storeValue(0, 1, \"winRatioSolo\", cache);\n//matches\n\tthis.storeValue(0, 1, \"matchesSolo\", cache);\n//kills\n\tthis.storeValue(0, 1, \"killsSolo\", cache);\n//kills per match\n\tthis.storeValue(0, 1, \"kpmSolo\", cache);\n//score per match\n    this.storeValue(0, 1, \"spmSolo\", cache);\n//end\n}\n\nif (\"p9\" in dataSet.stats) {\n    //trnRating\n    this.storeValue(number_format(dataSet.stats.p9.trnRating.value), 1, \"trnRatingVSquads\", cache);\n//score\n    this.storeValue(number_format(dataSet.stats.p9.score.value), 1, \"scoreSquads\", cache);\n    this.storeValue(number_format(dataSet.stats.p9.score.rank), 1, \"rankSquads\", cache);\n//wins\n\tthis.storeValue(number_format(dataSet.stats.p9.top1.value), 1, \"winsSquads\", cache);\n//top 3's\n    this.storeValue(number_format(dataSet.stats.p9.top3.value), 1, \"topThreeSquads\", cache);\n//top 5's\n    this.storeValue(number_format(dataSet.stats.p9.top5.value), 1, \"topFiveSquads\", cache);\n//top 6's\n\tthis.storeValue(number_format(dataSet.stats.p9.top6.value), 1, \"topSixSquads\", cache);\n//top 10's\n\tthis.storeValue(number_format(dataSet.stats.p9.top10.value), 1, \"topTenSquads\", cache);\n//top 12's\n    this.storeValue(number_format(dataSet.stats.p9.top12.value), 1, \"topTwelveSquads\", cache);\n//top 25's\n    this.storeValue(number_format(dataSet.stats.p9.top25.value), 1, \"topTwentyFiveSquads\", cache);\n//kills death ratio\n\tthis.storeValue(number_format(dataSet.stats.p9.kd.value), 1, \"kdSquads\", cache);\n//winRatio\n    if (\"winRatio\" in dataSet.stats.p9) {\n\tthis.storeValue(number_format(dataSet.stats.p9.winRatio.value), 1, \"winRatioSquads\", cache);\n\t}else{\n\tthis.storeValue(0, 1, \"winRatioSquads\", cache);\n\t}\n//matches\n\tthis.storeValue(number_format(dataSet.stats.p9.matches.value), 1, \"matchesSquads\", cache);\n//kills\n\tthis.storeValue(number_format(dataSet.stats.p9.kills.value), 1, \"killsSquads\", cache);\n//kills per match\n\tthis.storeValue(number_format(dataSet.stats.p9.kpg.value), 1, \"kpmSquads\", cache);\n//score per match\n    this.storeValue(number_format(dataSet.stats.p9.scorePerMatch.value), 1, \"spmSquads\", cache);\n//end\n}else{\n //trnRating\n    this.storeValue(\"None\", 1, \"trnRatingVSquads\", cache);\n//score\n    this.storeValue(0, 1, \"scoreSquads\", cache);\n    this.storeValue(\"None\", 1, \"rankSquads\", cache);\n//wins\n\tthis.storeValue(0, 1, \"winsSquads\", cache);\n//top 3's\n    this.storeValue(0, 1, \"topThreeSquads\", cache);\n//top 5's\n    this.storeValue(0, 1, \"topFiveSquads\", cache);\n//top 6's\n\tthis.storeValue(0, 1, \"topSixSquads\", cache);\n//top 10's\n\tthis.storeValue(0, 1, \"topTenSquads\", cache);\n//top 12's\n    this.storeValue(0, 1, \"topTwelveSquads\", cache);\n//top 25's\n    this.storeValue(0, 1, \"topTwentyFiveSquads\", cache);\n//kills death ratio\n\tthis.storeValue(0, 1, \"kdSquads\", cache);\n//winRatio\n\tthis.storeValue(0, 1, \"winRatioSquads\", cache);\n//matches\n\tthis.storeValue(0, 1, \"matchesSquads\", cache);\n//kills\n\tthis.storeValue(0, 1, \"killsSquads\", cache);\n//kills per match\n\tthis.storeValue(0, 1, \"kpmSquads\", cache);\n//score per match\n    this.storeValue(0, 1, \"spmSquads\", cache);\n//end\n}\n\nif (\"p10\" in dataSet.stats) {\n//trnRating\n    this.storeValue(number_format(dataSet.stats.p10.trnRating.value), 1, \"trnRatingVDuo\", cache);\n//score\n    this.storeValue(number_format(dataSet.stats.p10.score.value), 1, \"scoreDuo\", cache);\n    this.storeValue(number_format(dataSet.stats.p10.score.rank), 1, \"rankDuo\", cache);\n//wins\n\tthis.storeValue(number_format(dataSet.stats.p10.top1.value), 1, \"winsDuo\", cache);\n//top 3's\n    this.storeValue(number_format(dataSet.stats.p10.top3.value), 1, \"topThreeDuo\", cache);\n//top 5's\n    this.storeValue(number_format(dataSet.stats.p10.top5.value), 1, \"topFiveDuo\", cache);\n//top 6's\n\tthis.storeValue(number_format(dataSet.stats.p10.top6.value), 1, \"topSixDuo\", cache);\n//top 10's\n\tthis.storeValue(number_format(dataSet.stats.p10.top10.value), 1, \"topTenDuo\", cache);\n//top 12's\n    this.storeValue(number_format(dataSet.stats.p10.top12.value), 1, \"topTwelveDuo\", cache);\n//top 25's\n    this.storeValue(number_format(dataSet.stats.p10.top25.value), 1, \"topTwentyFiveDuo\", cache);\n//kills death ratio\n\tthis.storeValue(number_format(dataSet.stats.p10.kd.value), 1, \"kdDuo\", cache);\n//winRatio\n    if (\"winRatio\" in dataSet.stats.p10) {\n\tthis.storeValue(number_format(dataSet.stats.p10.winRatio.value), 1, \"winRatioDuo\", cache);\n\t}else{\n\tthis.storeValue(0, 1, \"winRatioDuo\", cache);\n\t}\n//matches\n\tthis.storeValue(number_format(dataSet.stats.p10.matches.value), 1, \"matchesDuo\", cache);\n//kills\n\tthis.storeValue(number_format(dataSet.stats.p10.kills.value), 1, \"killsDuo\", cache);\n//kills per match\n\tthis.storeValue(number_format(dataSet.stats.p10.kpg.value), 1, \"kpmDuo\", cache);\n//score per match\n    this.storeValue(number_format(dataSet.stats.p10.scorePerMatch.value), 1, \"spmDuo\", cache);\n//end\n}else{\n//trnRating\n    this.storeValue(\"None\", 1, \"trnRatingVDuo\", cache);\n//score\n    this.storeValue(0, 1, \"scoreDuo\", cache);\n    this.storeValue(\"None\", 1, \"rankDuo\", cache);\n//wins\n\tthis.storeValue(0, 1, \"winsDuo\", cache);\n//top 3's\n    this.storeValue(0, 1, \"topThreeDuo\", cache);\n//top 5's\n    this.storeValue(0, 1, \"topFiveDuo\", cache);\n//top 6's\n\tthis.storeValue(0, 1, \"topSixDuo\", cache);\n//top 10's\n\tthis.storeValue(0, 1, \"topTenDuo\", cache);\n//top 12's\n    this.storeValue(0, 1, \"topTwelveDuo\", cache);\n//top 25's\n    this.storeValue(0, 1, \"topTwentyFiveDuo\", cache);\n//kills death ratio\n\tthis.storeValue(0, 1, \"kdDuo\", cache);\n//winRatio\n\tthis.storeValue(0, 1, \"winRatioDuo\", cache);\n//matches\n\tthis.storeValue(0, 1, \"matchesDuo\", cache);\n//kills\n\tthis.storeValue(0, 1, \"killsDuo\", cache);\n//kills per match\n\tthis.storeValue(0, 1, \"kpmDuo\", cache);\n//score per match\n    this.storeValue(0, 1, \"spmDuo\", cache);\n//end\n}\nthis.callNextAction(cache);",
      "storage": "0",
      "varName": "",
      "name": "Run Script"
    },
    {
      "member": "1",
      "varName": "",
      "info": "16",
      "storage": "1",
      "varName2": "Avatar",
      "name": "Store Member Info"
    },
    {
      "title": "? __Fortnite Stats__ ?",
      "author": "",
      "color": "#36393E",
      "timestamp": "true",
      "url": "",
      "authorIcon": "",
      "imageUrl": "",
      "thumbUrl": "https://vignette.wikia.nocookie.net/fortnite/images/6/61/Battle_Royale_logo.png/revision/latest?cb=20180313000428",
      "storage": "1",
      "varName": "Fortnite Stats Embed",
      "name": "Create Embed Message"
    },
    {
      "storage": "1",
      "varName": "Fortnite Stats Embed",
      "fieldName": "__Solo:__",
      "message": "? **TRN Rating** - `${tempVars(\"trnRatingVSolo\")}`\n? **Score** - `${tempVars(\"scoreSolo\")}`\n? **Score Ranking** - `${tempVars(\"rankSolo\")}`\n? **Wins** - `${tempVars(\"winsSolo\")}`\n? **Placed in**\n      **Top 3** - `${tempVars(\"topThreeSolo\")}`\n      **Top 5** - `${tempVars(\"topFiveSolo\")}`\n      **Top 6** - `${tempVars(\"topSixSolo\")}`\n      **Top 10** - `${tempVars(\"topTenSolo\")}`\n      **Top 12** - `${tempVars(\"topTwelveSolo\")}`\n      **Top 25** - `${tempVars(\"topTwentyFiveSolo\")}`\nKills/Death Ratio - `${tempVars(\"kdSolo\")}`\nWin Rate - `${tempVars(\"winRatioSolo\")}%`\nMatches - `${tempVars(\"matchesSolo\")}`\nKills - `${tempVars(\"killsSolo\")}`\nAverage Kills per Match - `${tempVars(\"kpmSolo\")}`\nAverage Score Per Match - `${tempVars(\"spmSolo\")}`",
      "inline": "0",
      "name": "Add Embed Field"
    },
    {
      "storage": "1",
      "varName": "Fortnite Stats Embed",
      "fieldName": "__Duo:__",
      "message": "? **TRN Rating** - `${tempVars(\"trnRatingVDuo\")}`\n? **Score** - `${tempVars(\"scoreDuo\")}`\n? **Score Ranking** - `${tempVars(\"rankDuo\")}`\n? **Wins** - `${tempVars(\"winsDuo\")}`\n? **Placed in**\n      **Top 3** - `${tempVars(\"topThreeDuo\")}`\n      **Top 5** - `${tempVars(\"topFiveDuo\")}`\n      **Top 6** - `${tempVars(\"topSixDuo\")}`\n      **Top 10** - `${tempVars(\"topTenDuo\")}`\n      **Top 12** - `${tempVars(\"topTwelveDuo\")}`\n      **Top 25** - `${tempVars(\"topTwentyFiveDuo\")}`\n\nKills/Death Ratio - `${tempVars(\"kdDuo\")}`\nWin Rate - `${tempVars(\"winRatioDuo\")}%`\nMatches - `${tempVars(\"matchesDuo\")}`\nKills - `${tempVars(\"killsDuo\")}`\nAverage Kills per Match - `${tempVars(\"kpmDuo\")}`\nAverage Score Per Match - `${tempVars(\"spmDuo\")}`",
      "inline": "0",
      "name": "Add Embed Field"
    },
    {
      "storage": "1",
      "varName": "Fortnite Stats Embed",
      "fieldName": "__Squads:__",
      "message": "? **TRN Rating** - `${tempVars(\"trnRatingVSquads\")}`\n? **Score** - `${tempVars(\"scoreSquads\")}`\n? **Score Ranking** - `${tempVars(\"rankSquads\")}`\n? **Wins** - `${tempVars(\"winsSquads\")}`\n? **Placed in**\n      **Top 3** - `${tempVars(\"topThreeSquads\")}`\n      **Top 5** - `${tempVars(\"topFiveSquads\")}`\n      **Top 6** - `${tempVars(\"topSixSquads\")}`\n      **Top 10** - `${tempVars(\"topTenSquads\")}`\n      **Top 12** - `${tempVars(\"topTwelveSquads\")}`\n      **Top 25** - `${tempVars(\"topTwentyFiveSquads\")}`\nKills/Death Ratio - `${tempVars(\"kdSquads\")}`\nWin Rate - `${tempVars(\"winRatioSquads\")}%`\nMatches - `${tempVars(\"matchesSquads\")}`\nKills - `${tempVars(\"killsSquads\")}`\nAverage Kills per Match - `${tempVars(\"kpmSquads\")}`\nAverage Score Per Match - `${tempVars(\"spmSquads\")}`",
      "inline": "1",
      "name": "Add Embed Field"
    },
    {
      "storage": "1",
      "varName": "Fortnite Stats Embed",
      "message": "Requested by: (${tempVars(\"commanduser\")}) || JoKeR#0001 || MythBot",
      "footerIcon": "http://mythbot.tk/wp-content/uploads/2018/05/cropped-mythbottlogo-1.png",
      "name": "Set Embed Footer"
    },
    {
      "storage": "1",
      "varName": "Fortnite Stats Embed",
      "channel": "0",
      "varName2": "",
      "name": "Send Embed Message"
    },
    {
      "storage": "0",
      "varName": "",
      "EliteArtzIsPro": "1",
      "name": "Bot Typing"
    },
    {
      "name": "End Action Sequence"
    },
    {
      "channel": "0",
      "varName": "",
      "message": "Oops, Soemthing went wrong.\nPlease enter a valid username!",
      "storage": "1",
      "varName2": "er1",
      "name": "Send Message"
    },
    {
      "time": "8",
      "measurement": "1",
      "name": "Wait"
    },
    {
      "storage": "1",
      "varName": "er1",
      "name": "Delete Message"
    },
    {
      "name": "End Action Sequence"
    },
    {
      "info": "19",
      "storage": "1",
      "varName2": "prefix",
      "name": "Store Bot Client Info"
    },
    {
      "channel": "0",
      "varName": "",
      "message": "Oops, Something went wrong.\nExample:\n``${server.tag}fortnite [username] [pc,xbl,ps4]``",
      "storage": "1",
      "varName2": "er2",
      "name": "Send Message"
    },
    {
      "time": "8",
      "measurement": "1",
      "name": "Wait"
    },
    {
      "storage": "1",
      "varName": "er2",
      "name": "Delete Message"
    }
  ],
  "comType": "0"
}